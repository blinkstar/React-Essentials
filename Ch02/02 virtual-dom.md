### 理解虚拟 DOM

为什么我们需要操作 DOM 呢？因为通常我们的 Web 应用程序都不是静态的。  

Web 应用程序的状态反映在浏览器绘制的用户界面 (UI) 上，事件发生时会触发状态的改变。  

那么到底什么样的事件需要我们关注呢？主要有以下两种。  

 - 用户事件：用户按下键盘、点击鼠标、滚动屏幕、缩放页面尺寸等。
 - 服务端事件：应用程序从服务器接收到数据或错误等。

处理这些事件时会发生什么呢？  

通常，我们会更新应用程序所依赖的数据，而这些数据代表数据**模型**的状态。   
 
相应地，当数据模型的状态发生变化时，我们可能想要通过更新 UI 来反映这种变化。  
简单说就是需要同步 UI 和数据模型的状态。  

我们想要其中一个变化后另一个也做出反应，反之亦然。那么怎么才能实现呢？   
 
有一种方式可以将应用程序的 UI 状态与底层数据模型的状态进行同步，叫做双向数据绑定。  
双向数据绑定有几种不同的方式。  

其中一种是键值观察 (Key-Value Observing, KVO) Ember.js 、Knockout、Backbone 
和 iOS 等前端框架都使用这种方式。  

还有一种是脏检查，Angular 在用。  

但 React 没有采用双向数据绑定的方式，而是提出了一个不同的解决方案，称为 虚拟DOM 。  

虚拟DOM 是真实 DOM 的一个快速的、仅存在于内存中的映射，它是一个抽象，
允许我们把 JavaScript 和 DOM 当作是反应式的。  

让我们看看它是如何工作的。    

 - 1 只要数据模型的状态发生变化，虚拟DOM 和 React 就会将 UI 重绘为虚拟 DOM 的形式。
 - 2 React 会接着计算出这两个虚拟DOM之间的区别：数据改变之前的虚拟DOM 
 	和数据改变后的 (即当前的) 虚拟DOM 。这两个虚拟 DOM 的区别就是在真实 DOM 中需要实际去更改的部分。
 - 3 最后，React 在真实 DOM 上更新需要更新的部分。

对比两种不同的虚拟 DOM 然后在真实 DOM 上更新需要更新的部分，这个过程是很迅速的，
更好的一点是，React 开发者完全不需要关心哪些部分需要重绘。  

使用 React 会给人一种感觉：好像每次状态变化时都会重新渲染整个 DOM 一样。

